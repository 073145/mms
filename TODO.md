# High Priority

- Add maze loading functionality
    - Add maze gen functionality
    - Remove params for maze load/gen
- Support json file format
- Button for toggling the maze views
- Verify that the tile text automatically refresh when we set tileGraphicTextMaxSize
- Put MazeView into MazeGraphic (it should all be encapsulated in there)
- Remove log files (unnecessary for now)
- Maze editing and saving
    - Choose which type of file to save
- Kill Directory.h/.cpp
- Kill getTopLevelDirs
- Indicate build failure/success with colors
- Clean up mouseInterface/controller and MainWindow/controller (MouseAlgoUtilities)
- Hook up build output (in addition to stderr)
- Add controls about UI
- Make a note about newline for algo stdout
- Fix the elapsed sim time
- Toggle stdout/stderr line wrap
- API call counts
- Indicate whether or not there are lines in the stdout buffer (checkbox?)
- Surface error messages to the UI
- Stderr get's printed out when the algo exits, gets sent to Controller
- Why is tile fog not clearing immediately?
- Kill Layout class
- Blank map on startup would be good
- QList vs QVector - pick one
- Run mouse algorithms as separate process
    - Make continuous algos possible
    - Do some cleanup here
    - Deprecate static algo options (and maybe even dynamic ones too!)
- Fix collision detection
- Make framerate for multiple OpenGLWidgets faster
    - Share OpenGL context
    - Try sharing VBOs, etc.
- Fix .maz file loading
- Make GUI
    - Fix texture program
    - Put the stdout of the child process somewhere
    - use QOpenGLDebugLogger (clean this up)
- Rename the whole texture vs polygon thing
- Keep counts of all methods called (so people can debug why it's slow)
- Wireframe mode should only affect the maps
- Don't need (const X& x) because of implicit sharing
    - http://doc.qt.io/qt-5/implicit-sharing.html#implicitly-shared
- Include images/fonts with the binary: http://doc.qt.io/qt-5/resources.html
- If the maze is invalid, don't let the algo do anything
- Set up tests/build framework
- Use Qt XML support
    - Get rid of other lib/ dependencies
- Kill toStdString
- Make all classes QObjects
- Kill SimUtilities, other platform dependent code
- Fix timestep
    - Make renderer and physics on same thread
        - Maybe even collision detection too
- QHash instead of QMap
    - QSet instead of QVector in some places
- Monitor algo directories using FileSystemWatcher
- Get rid of unnecesary QString wrapping, like QString(<some qstring>)
- Get rid of all c_str() calls
- Kill toLatin1() calls
- Replace libs with native Qt functions
- char to QChar
- Replace QPair with structs
- append should replace push_back
- auto vs const auto&
    - Use const auto&
- Bluetooth communication
- Support reading or writing more file types
    - .MAZ, .mz2
    - https://code.google.com/p/maze-solver/wiki/MazeFileFormats
- Add computer vision to make it easy to import mazes
    - Repurpose "mousee" project for this
- Make a way to ensure that the algorithm has no memory leaks
    - We need a simple test harness, no graphics, discrete only
- Windows logging is not working (Use QT logging)
    - Not printing out on non-main threads?
- Logging is too expensive
    - Causing freezing and crashing
    - Generalize a method for counting and logging few times, 1 per second
    - Write some code to make sure update throughput is good
        - 99% of updates are 1ms apart, or something like that
    - Check the sleep duration of updates to make sure that we're actually doing 1000 updates per second
- Some script that tells you whether or not the headers are used
- Draw dots on edges
- Make sure QVector<QString> is QStringList
- command line args to the algos
- Communicate with subprocesses on stderr
    - Print out the stdout of the subprocesses
- Sim time is lagging a little bit
- Discrete mode speed...
    - Ensure that the wheel speed is not too high in the MouseInterface (so that the mouse does not clip through walls)
    - In discrete mode, the mouse can overturn or go too far if the sim speed
      is to high. We need to implement some logic that checks this ahead of
      time and then just teleports... sort of like bullets in other physics
      simulators (note that the elapsed sim time should only be updated as much
      as necessary to get the mouse to its destination)
- Make an algo that can switch between tile edge movements and not
    - Proof of concept
- Stepper motor
- Sensor type (digital or analog)
- Add a way to time the algorithms
    - Make sure consistent at all speeds
- Add debugging tips
    - Note about what to do if the simulator says that it's an invalid algo (how to debug)
- Make some video tutorials
- Make a mechanism for easily merging the a discrete algo into a continuous one
    - Figure out how to bring the high level logic into the control algo
- Make MouseInterface into an interface, and then implement the simulator interface, make a real-world interface
- Look at Tomasz' maze website
- Figure out how to get rid of ifdefs in algorithm
- Make a SimInterface and make sure it's easy to "extract" an algorithm for use on Arduino
- Figure out a nice way to use a vector for tiles for the simulation, but an array for real life
- Sensor readings for walls other than front, left right
- Include Arduino "types" with the MouseInterface
- More Arduino function support
- Add gridlines (see https://www.youtube.com/watch?v=LGRutv9cGBA and https://www.youtube.com/watch?v=gtnTBf5ItEc)
    - Variable width?
    - Add trajectory lines (see https://www.youtube.com/watch?v=kgJClVCPu3w)
- Buffer communication (like with the real robot)
- Clang compiler support
- Make a separate process for algo, so if the algo dies the sim stays alive, and so that we can start an algo over really easily
- Continuous performance
    - CPU with megaMouse.xml
    - MinSleepDuration is a little bit weird - sometimes we try to sleep less than that
- GUI
- Downward sensor

# Medum Priority

- Use explicit on one argument constructors
- Use tr on all user-facing strings to make the application translatable
- Pass by reference or value in lambdas
- Ensure random seed is provided to algo
- Rule of thumb - if it has state, make it a singleton instead of a static class
    - Rewrite singleton access patterns to be a little more readable (kill S(), P(), etc.)
    - All singletons should have an init function
    - Param and State still need to be converted
- Make a system for nearly instantly checking stats on many mazes:
    - like unit tests
    - solved or not
    - how many steps
    - ave steps
    - etc.
- Debugging tips
- Sensor read duration investigation
- Locking for sensor reads?
- How is wheelAdjustmentFactor working for default.xml?
    - Why do we have to use both contributions in both iterations?
- Change float to units (including in the ParamParser and Param class)
- Type safety (in terms of units) of the parameters
- Can we use mutable in the MouseInterface so declare wall on read is const? Make other methods in that class const?
- Make methods in IMouseInterface such as millis(), so that they can be called without "m_mouse->"
- Rename min-sleep-duration to something better
- Disable some copy constructors (wheels, sensors, etc.)
- Return const references, use const references in loops and especially in map iterations..., etc.
- Make a class for commonly used measurements
    - tileWidth
    - halfWallWidth
- If the wheel is at the center, it should have zero turn contribution, not infinite
- Organize params in res/parameters.xml and Param.h/.cpp
- Improve sensor readings by getting the actual complete polygon, not approximated
- Break up MouseInterface into DiscreteMouseInterface and ContinuousMouseInterface
- isDiscreteInterfaceCompatible and isContinuousInterfaceCompatible
- Enable steering the wheels and sensors during run
- Set acceleration of all moving/rotating things
- Make some default Arduino implementations for some functions
- Testing for resource existence (like the shaders, font images, etc.)
- Continuous mode improvements (overall)
- Xorg and compiz performance...
- Kill SimUtilities...
- Shortest path graphic (display the shortest path)
- Randomly select a pre-defined maze
- Write a good continuous algorithm
- Data recording for pause, rewind, fast forward
- Interrupt interface
- Run the program with maximum thread priority
- New maze w/o restarting app
    - Be able to restart in the middle of a run (this is tricky with the algo thread...)
- Fix the makefile so that if header files disappear we don't need to make clean
- Crash recovery semantics
    - Set a flag, let the algo check the flag
- Draw a path of where the robot has been (the history object could be used for recording as well)
- Perhaps use a separate process entirely for the mouse (so we can restart it easily)
- Write scripts we can execute (like unit tests) to make sure that our docs are in sync with the code
- Some way to turn the loggers on/off
- A way to log/print only info or higher, warn or higher, etc.
- Replace the convexHull with union in the mouse collision polygon initialization
- XML schema/validators
- Support multiple mice
- Make diagonals smoother
    - make an option for smooth edge movements, including regular turns
    - https://www.youtube.com/watch?v=HPvke3fknrc
    - Stringing together diagonal movements (with smooth turns) is difficult
    - Use small curves to do diagonals

# Low Priority

- Add gear ratio to the wheels
- Current rotation jumps between 0 and 360 on megaMouse right wall follow
- Pointers to wall polygons in each tile, save space by not breaking up walls/corners into multiple tiles
- Get rid of as much platform dependant code as possible
- Clean up the coding standards
- Optimize for space in the TEXTURE_CPU_BUFFER and GRAPHIC_CPU_BUFFER - Don't repeat vertices
- VSync so the graphics don't tear
- Better run number system
- Update the check_params.py script to make sure that the return type of the
  Param methods is the same as the type of the member variable
- Detect STL use in maze and mouse algos, send a warning
- Add a simple polygonFragmentShader
- Perhaps impose memory limits on the algorithm
- Add a way to change the mouse color
- Change FreeGLUT to GLFW
- 3D
- Crash animation for both modes
- Unit tests
- Try to break the simulator from within the algos, make it tamper-resistant
- Reduce include dependencies as much as possible
- Implement perfect hashing for key input and algo selection (lulz)
- Support more than just white fonts
- Protect functions that shouldn't be accessed by the algo by checking thread ID
- Change over the Makefile to use cmake
- Rewrite/clean floodfill
- Color palettes
- Tile text color
- Figure out why #NOGDI doesn't work on windows (1/7 - 1/8 facebook conversations)

# Clean-Up

- QVector<QString> to QStringList
- Javadoc as much as possible
- Make sure all QObjects have parents
- Use uniform syntax for Signal/slot connections
- Rename TriangleTexture and VertexTexture
- Rename Tile to Cell
- Write some unittests (QT Unit test)
- Add IMouseAlgorithm (and maze) to the build path so we can just do #include <IMouseAlgorithm.h> (maybe...)
- Run the parameter consistency script, make sure values align
- Convert primitive types to GL types (or vice versa)
- Return const references instead of values (pointers???)
- Reduce includes as much as possible
- Change "bool foo(false)" to "bool foo = false" for primitive - they look like function calls
- write "isDirectory(std::string path)" and enforce this where necessary
- write getRandom() and replace old calls to rand()
- Performance on different systems???
- The mouse sometimes rotates weirdly (goes slowly, backwards for a second, and then forwards fast. You can see what I mean by just increasing the view length of the sensors for a continuous algo)
- Remove as many c_str() as possible
- Replace "cout" with "L()"
- Pass things by reference when possible
- Sprinkle assertions everywhere
- Validate the coding standards (especially "{" placement)
- Rewrite "i++" and "++i" as "i += 1"
- Give better explanations for the GeometryUtilities
- Buffer the declared walls and include a quick "resetWalls()" method
- Clean up / improve the coding standards
- Fit code into 80/100 columns... use a linter for this
- Put consts in GraphicUtilties (and other classes)
- Replace braket notation with methods (walls[NORTH] = true -> walls.insert(std::make_pair(NORTH, true)));
- Document the confusing coordinate systems
- for each loop iterations should use const references
- The interfaces don't need to be passed as pointers, right? Try passing as values...
- Upgrade convert_mazes.py to Python 3
- P() be const? S()?
- init vs initialize
- Write a script to ensure that ASSERTS don't hold any state
- Ensure boolean operators aren't used in asserts... should be using a different assert
- Replace NULL with nullptr
- Rename Tile to Cell?
- Fix up so that -Wall -Werror -pedantic-error flags pass
- -Wall: Show all warning messages
- -Werror: Fail compilation on warnings
- -pedantic-errors: Flag even the most pedantic of errors
- Take out -g makefile option
- Reduce the number of LIBS in makefile
- Does the makefile work for multiple platforms?
- Get backups of freeglut and glew files
- Format to 80 cols
